{% extends 'blog/base.html' %}
{% load static%}
{% load widget_tweaks %}

{% block content %}

<section class="hero-area bg-white shadow-sm overflow-hidden pt-60px">
    <span class="stroke-shape stroke-shape-1"></span>
    <span class="stroke-shape stroke-shape-2"></span>
    <span class="stroke-shape stroke-shape-3"></span>
    <span class="stroke-shape stroke-shape-4"></span>
    <span class="stroke-shape stroke-shape-5"></span>
    <span class="stroke-shape stroke-shape-6"></span>
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <div class="hero-content">
                    <div class="media media-card align-items-center shadow-none p-0 mb-0 rounded-0 bg-transparent">
                        <div class="media-img media--img">
                            {% if users.img %}
                            <img src="{{users.img.url}}" alt="user avatar">                                                    
                            {% else %}
                            <img src="{% static 'img/people.jpg' %}" alt="user avatar">
                            {% endif %}
                        </div>
                        <div class="media-body">
                            <h5>
                                {% if users.first_name and users.last_name %}
                                {{users.first_name}} {{users.last_name}}
                                {% else %}
                                {{users.username}}
                                {% endif %}
                            </h5>
                            <small class="meta d-block lh-20 pb-2">
                                <span>Yashash joyi: <b>
                                    {% if users.location %}
                                    {{users.location}}
                                    {% else %} noma'lum
                                    {% endif %}
                                </b></span>
                            </small>
                        </div>
                    </div>
                </div>
            </div>
            {% if users.username == user.username %}
            <div class="col-lg-4">
                <div class="hero-btn-box text-right py-3">
                    <a href="{% url 'profil' users.username %}" class="btn theme-btn theme-btn-outline theme-btn-outline-gray"><i class="la la-gear mr-1"></i> Profilni tahrirlash</a>
                </div>
            </div>
            {% endif %}
            <div class="col-lg-12">
                <ul class="nav nav-tabs generic-tabs generic--tabs generic--tabs-2 mt-4" id="myTab" role="tablist">
                    <li class="nav-item">
                        {% if users.username == user.username %}
                        <h4>
                            {% if users.first_name and user.last_name %}
                            {{users.first_name}} {{users.last_name}}
                            {% else %}
                            {{users.username}}
                            {% endif %} profilingizga xush kelibsiz!!!
                        </h4>
                        {% else %}
                        <h4>
                            {% if users.first_name and user.last_name %}
                            {{users.first_name}} {{users.last_name}}
                            {% else %}
                            {{users.username}}
                            {% endif %}ning shaxsiy profiliga xush kelibsiz!!!
                        </h4>
                        {% endif %}
                    </li>
                </ul>
            </div>
        </div>
    </div>
</section>

<section class="user-details-area pt-30px pb-60px">
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active" id="user-profile" role="tabpanel" aria-labelledby="user-profile-tab">
                        <div class="user-panel-main-bar">
                            <div class="user-panel mb-30px">
                                <p>{{users.bio|safe}}</p>
                            </div>
                            <div class="user-panel mb-30px pt-30px border-top border-top-gray">
                                <ul class="generic-list-item generic-list-item-bullet">
                                    {% if users.email %}
                                    <li class="pl-3"><a href="{{users.email}}" class="d-inline-block">Email</a></li>
                                    {% endif %}
                                    {% if users.facebook_link %}
                                    <li class="pl-3"><a href="{{users.facebook_link}}" target="_blank" class="d-inline-block">Facebook</a></li>
                                    {% endif %}
                                    {% if users.telegram_link %}
                                    <li class="pl-3"><a href="#" class="d-inline-block">Telegram</a></li>
                                    {% endif %}
                                    {% if users.instagram_link %}
                                    <li class="pl-3"><a href="{{users.instagram_link}}" class="d-inline-block">Instagram</a></li>
                                    {% endif %}
                                </ul>
                            </div>
                            <div class="user-panel mb-30px">
                                <div class="row">
                                    <div class="col-lg-4 responsive-column-half">
                                        <div class="media media-card align-items-center shadow-none border border-gray p-3">
                                            <div class="icon-element icon-element-sm mr-3 bg-1">
                                                <svg class="svg-icon-color-white" width="25" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="-19 0 136 136.54819">
                                                    <g id="surface1">
                                                        <path d="M 21.710938 27.703125 L 76.128906 27.703125 C 77.15625 27.703125 77.988281 26.867188 77.988281 25.839844 C 77.988281 24.808594 77.15625 23.972656 76.128906 23.972656 L 21.710938 23.972656 C 20.679688 23.972656 19.84375 24.808594 19.84375 25.839844 C 19.84375 26.867188 20.679688 27.703125 21.710938 27.703125 Z M 21.710938 27.703125 " />
                                                        <path d="M 0.273438 18.625 L 0.273438 130.699219 C 0.285156 133.925781 2.898438 136.539062 6.121094 136.546875 L 91.710938 136.546875 C 94.941406 136.539062 97.554688 133.925781 97.558594 130.699219 L 97.558594 18.625 C 97.554688 15.394531 94.941406 12.78125 91.710938 12.777344 L 63.289062 12.777344 C 62.351562 4.839844 55.160156 -0.835938 47.222656 0.101562 C 40.574219 0.882812 35.332031 6.128906 34.546875 12.777344 L 6.121094 12.777344 C 2.894531 12.78125 0.277344 15.394531 0.273438 18.625 Z M 93.816406 130.699219 C 93.816406 131.867188 92.871094 132.8125 91.703125 132.8125 L 6.121094 132.8125 C 4.953125 132.8125 4.007812 131.867188 4.007812 130.699219 L 4.007812 36.6875 L 93.832031 36.6875 Z M 48.917969 3.695312 C 54.207031 3.703125 58.695312 7.554688 59.519531 12.777344 L 38.367188 12.777344 C 39.183594 7.574219 43.648438 3.726562 48.917969 3.695312 Z M 91.710938 16.503906 C 92.882812 16.503906 93.832031 17.457031 93.832031 18.625 L 93.832031 32.953125 L 4.007812 32.953125 L 4.007812 18.625 C 4.007812 17.457031 4.953125 16.503906 6.121094 16.503906 Z M 91.710938 16.503906 " />
                                                        <path d="M 37.96875 57.25 L 82.085938 57.25 C 83.113281 57.25 83.949219 56.414062 83.949219 55.386719 C 83.949219 54.351562 83.113281 53.519531 82.085938 53.519531 L 37.96875 53.519531 C 36.9375 53.519531 36.105469 54.351562 36.105469 55.386719 C 36.105469 56.414062 36.9375 57.25 37.96875 57.25 Z M 37.96875 57.25 " />
                                                        <path d="M 37.96875 76.722656 L 82.085938 76.722656 C 83.113281 76.722656 83.949219 75.886719 83.949219 74.855469 C 83.949219 73.824219 83.113281 72.988281 82.085938 72.988281 L 37.96875 72.988281 C 36.9375 72.988281 36.105469 73.824219 36.105469 74.855469 C 36.105469 75.886719 36.9375 76.722656 37.96875 76.722656 Z M 37.96875 76.722656 " />
                                                        <path d="M 37.96875 96.179688 L 82.085938 96.179688 C 83.113281 96.179688 83.949219 95.339844 83.949219 94.3125 C 83.949219 93.28125 83.113281 92.445312 82.085938 92.445312 L 37.96875 92.445312 C 36.9375 92.445312 36.105469 93.28125 36.105469 94.3125 C 36.105469 95.339844 36.9375 96.179688 37.96875 96.179688 Z M 37.96875 96.179688 " />
                                                        <path d="M 37.96875 115.632812 L 82.085938 115.632812 C 83.113281 115.632812 83.949219 114.800781 83.949219 113.765625 C 83.949219 112.738281 83.113281 111.90625 82.085938 111.90625 L 37.96875 111.90625 C 36.9375 111.90625 36.105469 112.738281 36.105469 113.765625 C 36.105469 114.800781 36.9375 115.632812 37.96875 115.632812 Z M 37.96875 115.632812 " />
                                                        <path d="M 19.359375 58.292969 C 19.652344 58.710938 20.101562 58.988281 20.601562 59.066406 L 20.878906 59.066406 C 21.289062 59.066406 21.691406 58.925781 22.023438 58.667969 L 33.910156 49.378906 C 34.804688 48.859375 35.109375 47.71875 34.59375 46.828125 C 34.078125 45.933594 32.9375 45.628906 32.046875 46.148438 C 31.890625 46.234375 31.75 46.347656 31.625 46.476562 L 21.285156 54.566406 L 19.480469 51.992188 C 18.890625 51.148438 17.726562 50.9375 16.882812 51.53125 C 16.039062 52.121094 15.828125 53.285156 16.421875 54.128906 Z M 19.359375 58.292969 " />
                                                        <path d="M 19.359375 77.476562 C 19.652344 77.894531 20.101562 78.175781 20.601562 78.253906 L 20.878906 78.253906 C 21.289062 78.25 21.691406 78.109375 22.023438 77.851562 L 33.910156 68.558594 C 34.746094 67.949219 34.921875 66.78125 34.308594 65.949219 C 33.699219 65.121094 32.53125 64.941406 31.699219 65.558594 C 31.671875 65.578125 31.640625 65.601562 31.613281 65.625 L 21.285156 73.722656 L 19.480469 71.148438 C 19.019531 70.226562 17.898438 69.851562 16.980469 70.308594 C 16.058594 70.769531 15.683594 71.890625 16.144531 72.816406 C 16.21875 72.960938 16.308594 73.101562 16.421875 73.222656 Z M 19.359375 77.476562 " />
                                                        <path d="M 19.359375 96.714844 C 19.652344 97.128906 20.101562 97.40625 20.601562 97.484375 L 20.878906 97.484375 C 21.289062 97.484375 21.691406 97.34375 22.023438 97.085938 L 33.910156 87.792969 C 34.746094 87.179688 34.921875 86.011719 34.308594 85.183594 C 33.699219 84.351562 32.53125 84.179688 31.699219 84.789062 C 31.671875 84.8125 31.640625 84.832031 31.613281 84.855469 L 21.273438 92.929688 L 19.472656 90.355469 C 18.878906 89.511719 17.714844 89.304688 16.871094 89.894531 C 16.023438 90.488281 15.820312 91.652344 16.410156 92.496094 Z M 19.359375 96.714844 " />
                                                        <path d="M 19.359375 116.171875 C 19.652344 116.585938 20.101562 116.867188 20.601562 116.945312 L 20.878906 116.945312 C 21.289062 116.9375 21.691406 116.796875 22.023438 116.546875 L 33.910156 107.25 C 34.785156 106.703125 35.046875 105.546875 34.5 104.675781 C 33.945312 103.800781 32.792969 103.546875 31.921875 104.09375 C 31.816406 104.160156 31.714844 104.238281 31.625 104.328125 L 21.285156 112.414062 L 19.480469 109.839844 C 18.890625 108.992188 17.726562 108.789062 16.882812 109.378906 C 16.039062 109.96875 15.828125 111.132812 16.421875 111.976562 Z M 19.359375 116.171875 " />
                                                    </g>
                                                </svg>
                                            </div>
                                            <div class="media-body">
                                                <h5 class="fw-medium">{{users.blog_set.count}}</h5>
                                                <p class="fs-15">Bloglar mavjud</p>
                                            </div>
                                        </div>
                                    </div><!-- end col-lg-4 -->
                                    <div class="col-lg-4 responsive-column-half">
                                        <div class="media media-card align-items-center shadow-none border border-gray p-3">
                                            <div class="icon-element icon-element-sm mr-3 bg-2">
                                                <svg class="svg-icon-color-white" width="25" version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve">
                                                    <g>
                                                        <g>
                                                            <g>
                                                                <path d="M405.333,42.667h-44.632c-4.418-12.389-16.147-21.333-30.035-21.333h-32.229C288.417,8.042,272.667,0,256,0
                                                                    s-32.417,8.042-42.438,21.333h-32.229c-13.888,0-25.617,8.944-30.035,21.333h-44.631C83.146,42.667,64,61.802,64,85.333v384
                                                                    C64,492.865,83.146,512,106.667,512h298.667C428.854,512,448,492.865,448,469.333v-384C448,61.802,428.854,42.667,405.333,42.667
                                                                    z M170.667,53.333c0-5.885,4.792-10.667,10.667-10.667h37.917c3.792,0,7.313-2.021,9.208-5.302
                                                                    c5.854-10.042,16.146-16.031,27.542-16.031s21.688,5.99,27.542,16.031c1.896,3.281,5.417,5.302,9.208,5.302h37.917
                                                                    c5.875,0,10.667,4.781,10.667,10.667V64c0,11.76-9.563,21.333-21.333,21.333H192c-11.771,0-21.333-9.573-21.333-21.333V53.333z
                                                                     M426.667,469.333c0,11.76-9.563,21.333-21.333,21.333H106.667c-11.771,0-21.333-9.573-21.333-21.333v-384
                                                                    c0-11.76,9.563-21.333,21.333-21.333h42.667c0,23.531,19.146,42.667,42.667,42.667h128c23.521,0,42.667-19.135,42.667-42.667
                                                                    h42.667c11.771,0,21.333,9.573,21.333,21.333V469.333z"/>
                                                                <path d="M160,170.667c-17.646,0-32,14.354-32,32c0,17.646,14.354,32,32,32s32-14.354,32-32
                                                                    C192,185.021,177.646,170.667,160,170.667z M160,213.333c-5.875,0-10.667-4.781-10.667-10.667
                                                                    c0-5.885,4.792-10.667,10.667-10.667s10.667,4.781,10.667,10.667C170.667,208.552,165.875,213.333,160,213.333z"/>
                                                                <path d="M160,277.333c-17.646,0-32,14.354-32,32c0,17.646,14.354,32,32,32s32-14.354,32-32
                                                                    C192,291.688,177.646,277.333,160,277.333z M160,320c-5.875,0-10.667-4.781-10.667-10.667c0-5.885,4.792-10.667,10.667-10.667
                                                                    s10.667,4.781,10.667,10.667C170.667,315.219,165.875,320,160,320z"/>
                                                                <path d="M160,384c-17.646,0-32,14.354-32,32c0,17.646,14.354,32,32,32s32-14.354,32-32C192,398.354,177.646,384,160,384z
                                                                     M160,426.667c-5.875,0-10.667-4.781-10.667-10.667c0-5.885,4.792-10.667,10.667-10.667s10.667,4.781,10.667,10.667
                                                                    C170.667,421.885,165.875,426.667,160,426.667z"/>
                                                                <path d="M373.333,192h-128c-5.896,0-10.667,4.771-10.667,10.667c0,5.896,4.771,10.667,10.667,10.667h128
                                                                    c5.896,0,10.667-4.771,10.667-10.667C384,196.771,379.229,192,373.333,192z"/>
                                                                <path d="M373.333,298.667h-128c-5.896,0-10.667,4.771-10.667,10.667c0,5.896,4.771,10.667,10.667,10.667h128
                                                                    c5.896,0,10.667-4.771,10.667-10.667C384,303.438,379.229,298.667,373.333,298.667z"/>
                                                                <path d="M373.333,405.333h-128c-5.896,0-10.667,4.771-10.667,10.667c0,5.896,4.771,10.667,10.667,10.667h128
                                                                    c5.896,0,10.667-4.771,10.667-10.667C384,410.104,379.229,405.333,373.333,405.333z"/>
                                                            </g>
                                                        </g>
                                                    </g>
                                                </svg>
                                            </div>
                                            <div class="media-body">
                                                <h5 class="fw-medium">{{users.comment_set.count}}</h5>
                                                <p class="fs-15">Fikr bildirishlar</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="user-panel mb-30px">
                                <div class="bg-gray p-3 rounded-rounded">
                                    <h3 class="fs-17">Top tags <span>({{tag.count}})</span></h3>
                                </div>
                                <div class="vertical-list">
                                    {% for i in tag %}
                                    <div class="item tags d-flex align-items-center justify-content-between">
                                       <div class="flex-grow-1">
                                           <a href="#" class="tag-link tag-link-md tag-link-blue mb-0">{{i.name}}</a>
                                           <a href="#" class="ball ball-lg ml-1 gold"></a>
                                       </div>
                                        <div class="user-stats d-flex align-items-center">
                                            <div class="stat text-center">
                                                <strong class="text-black fs-14">58,420</strong>
                                                <small class="d-block lh-15">score</small>
                                            </div>
                                            <div class="stat text-center">
                                                <strong class="text-black fs-14">413</strong>
                                                <small class="d-block lh-15">posts</small>
                                            </div>
                                            <div class="stat text-center">
                                                <strong class="text-black fs-14">21</strong>
                                                <small class="d-block lh-15">posts %</small>
                                            </div>
                                        </div>
                                    </div>
                                    {% endfor %}
                                    <div class="view-more pt-3 px-3">
                                        <a href="#" class="btn-text fs-15">View all tags <i class="la la-arrow-right icon ml-1"></i></a>
                                    </div>

                                </div>
                            </div>
                            <div class="user-panel mb-30px">
                                <div class="bg-gray p-3 rounded-rounded d-flex align-items-center justify-content-between">
                                    <h3 class="fs-17">Top Bloglarim <span>({{users.blog_set.count}})</span></h3>
                                </div>
                                <div class="vertical-list">
                                    {% for i in blogs %}
                                    <div class="item p-0">
                                        <div class="media media-card media--card align-items-center shadow-none rounded-0 mb-0 bg-transparent">
                                            <div class="votes py-2 answered-accepted">
                                                <div class="vote-block d-flex align-items-center justify-content-between" title="Votes">
                                                    <span class="vote-counts">{{i.views}}</span>
                                                    <span class="vote-icon"></span>
                                                </div>
                                                <div class="answer-block d-flex align-items-center justify-content-between" title="Answers">
                                                    <span class="vote-counts">{{i.comment_set.count}}</span>
                                                    <span class="answer-icon"></span>
                                                </div>
                                            </div>
                                            <div class="media-body">
                                                <h5><a href="{% url 'detail' i.slug %}">{{i.name}}</a></h5>
                                                <small class="meta">
                                                    <span>{{i.created_at|date:"d M Y"}}</span>
                                                </small>
                                            </div>
                                        </div><!-- end media -->
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="sidebar">
                    <div class="card card-item">
                        <div class="card-body">
                            <h3 class="fs-17 pb-3">So'ngi yangiliklar</h3>
                            <div class="divider"><span></span></div>
                            <div class="sidebar-questions pt-3">
                                <div class="media media-card media--card media--card-2">
                                    <div class="media-body">
                                        {% for i in post %}
                                        <h5><a href="{% url 'detail' i.slug %}">{{i.name}}</a></h5>
                                        <small class="meta">
                                            <span class="pr-1">{{i.created_at|date}}</span>
                                            <span class="pr-1">. by</span>
                                            <a href="{% url 'profil' i.user_id.username %}" class="author">{{i.user_id}}</a>
                                        </small>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card card-item">
                        <div class="card-body">
                            <h3 class="fs-17 pb-3">Barcha taglar</h3>
                            <div class="divider"><span></span></div>
                            <div class="tags pt-4">
                                {% for i in tag %}
                                <div class="tag-item">
                                    <a href="{% url 'tags' i.slug %}" class="tag-link tag-link-md">{{i.name}}</a>
                                    <span class="item-multiplier fs-13">
                                        <span>×</span>
                                        <span>32924</span>
                                    </span>
                                </div>
                                {% endfor %}
                                {% if cnt > 4 %}
                                <div class="collapse" id="showMoreTags">
                                    {% for i in tags %}
                                    <div class="tag-item">
                                        <a href="{% url 'tags' i.slug %}" class="tag-link tag-link-md">{{i.name}}</a>
                                        <span class="item-multiplier fs-13">
                                            <span>×</span>
                                            <span>32924</span>
                                        </span>
                                    </div>
                                    {% endfor %}
                                </div>
                                {% endif %}
                                <a class="collapse-btn fs-13" data-toggle="collapse" href="#showMoreTags" role="button" aria-expanded="false" aria-controls="showMoreTags">
                                    <span class="collapse-btn-hide">Show more<i class="la la-angle-down ml-1 fs-11"></i></span>
                                    <span class="collapse-btn-show">Show less<i class="la la-angle-up ml-1 fs-11"></i></span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}
